# Домашнее задание к занятию «Микросервисы: Масштабирование»

## Выполнил студент группы DevOps-25 Шаповалов Кирилл

<br />

Задача 1 - Кластеризация
------------------------

```
Предложите решение для обеспечения развёртывания, запуска и управления приложениями. 
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:

- поддержка контейнеров;
- обеспечивать обнаружение сервисов и маршрутизацию запросов;
- обеспечивать возможность горизонтального масштабирования;
- обеспечивать возможность автоматического масштабирования;
- обеспечивать явное разделение ресурсов, доступных извне и внутри системы;
- обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного 
хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т. п.

Обоснуйте свой выбор.
```

Решение
-------

По всем параметрам задачи сюда так и просится Kubernetes :)) Ведь не зря же мы начинаем его изучать.

Вообще если серьезно, K8s очень мощный оркестратор и поддерживает все указанные функции. Я пока не очень хорошо знаю его функционал и только начинаю с чем-то знакомиться, однако даже то, что я уже знаю - закрывает все потребности в данной задаче.

Kubernetes: 

* обеспечивает поддержку контейнеров (в основном, работает правило - один под = один контейнер);
* используя Ingress-контроллер сети - можно настроить любую маршрутизацию к любым сервисам;
* обладает механизмами Vertical Autoscaling и Horizontal Autoscaling, что позволяет масштабировать сервисы не только горизонтально между нодами, но и вертикально - выделяя сервисам больше ресурсов на определенной ноде;
* благодаря настройкам автоскейлинга - можно добиться полностью автоматического масштабирования сервисов, в зависимости от расписания или же потребления ресурсов Kubernetes сам будет решать сколько реплик сервиса и где ему требуется поднять, а затем погасить, когда они станут не нужны;
* отлично обеспечивает разделение ресурсов - сервисы внутри кластера могут общаться друг с другом по внутренней сети, в то же самое время наружу может быть отдан, например, только один сервис, или же можно настроить доступы с помощью Ingress Rules, где к каждому конкретному сервису можно привязать свое доменное имя и сделать доступным наружу любой сервис;
* насколько я могу судить по прочитанным статьям - Kubernetes поддерживает так называемые инъекции секретов напрямую в поды из Hashicorp Vault, что обеспечивает и безопасное хранение секретов и безопасное их использование в сервисах Kubernetes. 

Используя системы контроля версий, например тот же Gitlab, можно достичь существенной доли автоматизации деплоя всех сервисов, а также безопасной передачи паролей, токенов и иных чувствительных параметров напрямую в сервисы, используя механизм интеграции Gitlab с Hashicorp Vault прямо во время деплоя в Gitlab-CI.

Так что в качестве решения данной задачи однозначно стоит выбирать Kubernetes.